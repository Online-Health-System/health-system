<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Doctor Profile</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>

<div class="layout">

  <!-- ===== Sidebar ===== -->
  <aside class="sidebar">
    <h2>
      <img src="../assets/images/logo.png" width="50" height="50">
      Health Care
    </h2>

    <a href="doctor.html">Dashboard</a>
    <a href="">Profile</a>
    <a href="appointments.html">Appointments</a>
    <a href="reports.html">Reports</a>
    <a href="../pages/login.html">Logout</a>
  </aside>

  <!-- ===== Main ===== -->
  <main class="main">

    <!-- ===== Header ===== -->
    <header class="header">
      <h1>Doctor Profile</h1>
      <p>Personal & Professional Information</p>
    </header>

    <!-- ===== Profile Card ===== -->
    <section class="card" id="doctorProfile">

      <h2 id="docName"></h2>
      <p style="opacity:.8" id="docSpecialty"></p>

      <hr style="margin:20px 0; opacity:.2">

      <div class="cards">

        <div class="card">
          <h3>Status</h3>
          <span class="badge badge-success" id="docStatus"></span>
        </div>

        <div class="card">
          <h3>Experience</h3>
          <p><span id="docExperience"></span> </p>
        </div>

        <div class="card">
          <h3>Appointments Today</h3>
          <p id="docAppointments"></p>
        </div>

      </div>

      <hr style="margin:25px 0; opacity:.2">

      <!-- ===== Info Table ===== -->
      <div class="glass-table" >
        <table>
          <tr>
            <th style="width: 20%;">Email</th>
            <td id="docEmail" align="center"></td>
          </tr>
          <tr>
            <th>Phone</th>
            <td id="docPhone" align="center" ></td>
          </tr>
          <tr>
            <th>Gender</th>
            <td id="docGender"align="center"></td>
          </tr>
          <tr>
            <th>Qualification</th>
            <td id="docQualification" align="center"></td>
          </tr>
          <tr>
            <th>Clinic Room</th>
            <td id="docRoom" align="center"></td>
          </tr>
          <tr>
            <th>Working Hours</th>
            <td id="docHours" align="center"></td>
          </tr>
          <tr>
            <th>Patients Today</th>
            <td id="docPatients" align="center"></td>
          </tr>
          <tr>
            <th>Bio</th>
            <td id="docBio" align="center"></td>
          </tr>
        </table>
      </div>

    </section>
  </main>
</div>


<script src="../../modules/profileDoc.js" type="module"></script>
<script type="module">
  import { fetchDoctorData } from '../../modules/profileDoc.js';
  import { checkAccess } from "../../modules/auth/auth.js";
  import { getCurrentUser } from '../../modules/auth/auth.js';
  checkAccess(['doctor']);
  let currentUser = getCurrentUser();
  currentUser = currentUser ? currentUser : { id: 'DOC-101', name: 'Dr. Ahmed Hassan', role: 'doctor' };
  fetchDoctorData(currentUser.id)
</script>
</html>
